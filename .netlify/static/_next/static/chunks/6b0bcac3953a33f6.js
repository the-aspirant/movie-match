(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(17927),l=e.i(17034);function o(){let e=(0,r.useRouter)(),[o,i]=(0,a.useState)("welcome"),[c,n]=(0,a.useState)(""),[m,d]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1),[b,u]=(0,a.useState)(""),p=async()=>{if(0===m.length)return void u("Please select at least one streaming service");h(!0),u("");try{let t=await (0,s.createRoom)(m);e.push(`/room/${t}`)}catch(e){console.error("Create room error:",e),u("Failed to create room. Please try again."),h(!1)}},g=async()=>{if(!c.trim())return void u("Please enter a room code");h(!0),u("");try{await (0,s.joinRoom)(c.toUpperCase()),e.push(`/room/${c.toUpperCase()}`)}catch(e){u("Room not found. Check your code and try again."),h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 py-12",style:{minHeight:"100dvh"},children:(0,t.jsxs)("div",{className:"w-full max-w-sm",children:["welcome"===o&&(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"text-8xl mb-8",children:"ðŸŽ¬"}),(0,t.jsxs)("h1",{className:"text-6xl font-display font-bold bg-gradient-to-r from-amber-400 via-coral-400 to-amber-400 bg-clip-text text-transparent text-center leading-tight",children:["Movie",(0,t.jsx)("br",{}),"Match"]}),(0,t.jsx)("p",{className:"mt-4 text-warmLight/70 text-lg text-center leading-relaxed",children:"Swipe together. Watch together."}),(0,t.jsxs)("div",{className:"w-full mt-12 space-y-4",children:[(0,t.jsx)("button",{onClick:()=>i("create"),className:"btn-primary w-full text-lg py-5",children:"Create Room"}),(0,t.jsx)("button",{onClick:()=>i("join"),className:"w-full text-lg py-4 text-amber-400 font-medium rounded-full border-2 border-amber-500/40 active:border-amber-500 active:scale-[0.98]",children:"Join Room"})]}),(0,t.jsx)("p",{className:"mt-10 text-warmLight/30 text-xs text-center",children:"Like Tinder, but for deciding what to watch tonight."})]}),"create"===o&&(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>{i("welcome"),u("")},className:"text-amber-400 active:text-amber-300 flex items-center gap-2 text-sm min-h-[44px] mb-6",children:"â† Back"}),(0,t.jsx)("h2",{className:"text-3xl font-display font-bold text-warmLight mb-2",children:"Pick your services"}),(0,t.jsx)("p",{className:"text-warmLight/50 text-sm mb-8",children:"We'll show movies available on these platforms."}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-8",children:l.STREAMING_SERVICES.map(e=>(0,t.jsx)("button",{onClick:()=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:`py-4 px-4 rounded-xl border-2 font-medium text-base active:scale-[0.97] ${m.includes(e)?"bg-amber-500/20 border-amber-500 text-amber-400 shadow-lg shadow-amber-500/10":"bg-warmGray border-warmLight/25 text-warmLight/90"}`,children:e},e))}),b&&(0,t.jsx)("div",{className:"text-coral-400 text-sm text-center bg-coral-500/10 p-3 rounded-xl mb-4",children:b}),(0,t.jsx)("button",{onClick:p,disabled:x||0===m.length,className:"btn-primary w-full text-base py-4 disabled:opacity-40 disabled:cursor-not-allowed",children:x?"Creating...":"Create Room"}),(0,t.jsx)("p",{className:"text-warmLight/30 text-xs text-center mt-4",children:"You'll get a code to share with your partner."})]}),"join"===o&&(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>{i("welcome"),u("")},className:"text-amber-400 active:text-amber-300 flex items-center gap-2 text-sm min-h-[44px] mb-6",children:"â† Back"}),(0,t.jsx)("h2",{className:"text-3xl font-display font-bold text-warmLight mb-2",children:"Enter the code"}),(0,t.jsx)("p",{className:"text-warmLight/50 text-sm mb-8",children:"Your partner's room code â€” 6 characters."}),(0,t.jsx)("input",{type:"text",placeholder:"WOLF42",value:c,onChange:e=>n(e.target.value.toUpperCase()),className:"w-full text-center text-3xl tracking-[0.3em] font-bold uppercase py-5 mb-6 rounded-2xl",maxLength:6,autoFocus:!0}),b&&(0,t.jsx)("div",{className:"text-coral-400 text-sm text-center bg-coral-500/10 p-3 rounded-xl mb-4",children:b}),(0,t.jsx)("button",{onClick:g,disabled:x||!c.trim(),className:"btn-primary w-full text-base py-4 disabled:opacity-40 disabled:cursor-not-allowed",children:x?"Joining...":"Join Room"})]})]})})}e.s(["default",()=>o])}]);